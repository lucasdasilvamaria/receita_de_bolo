<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bolinho Interativo</title>
<style>
    body {
        font-family: Arial, sans-serif;
        text-align: center;
        padding: 20px;
        background: #fff2e6;
        color: #333;
    }
    h1, h2, h3 {
        margin-bottom: 20px;
    }
    svg {
        width: 100px;
        height: 100px;
        cursor: pointer;
        margin: 10px;
        transition: transform 0.2s;
    }
    svg.clicked {
        transform: scale(1.2);
        opacity: 0.5;
    }
    button {
        display: block;
        margin: 20px auto;
        padding: 10px 20px;
        font-size: 18px;
        cursor: pointer;
        border: none;
        border-radius: 8px;
        background-color: #ff9933;
        color: white;
        transition: background 0.3s;
    }
    button:hover {
        background-color: #ff6600;
    }
    .ingredient, .step {
        font-size: 18px;
        margin: 15px 0;
    }
    .utensilios-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
    }
    .utensilio {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin: 10px;
    }
    .utensilio span {
        margin-top: 5px;
        font-size: 16px;
    }
</style>
</head>
<body>

<h1>Vamos fazer um bolinho?</h1>
<svg id="bolo" viewBox="0 0 64 64">
  <circle cx="32" cy="32" r="30" fill="#f4a460" stroke="#d2691e" stroke-width="4"/>
  <circle cx="32" cy="32" r="20" fill="#fff0d4"/>
</svg>

<div id="content"></div>

<script>
const content = document.getElementById('content');
const bolo = document.getElementById('bolo');

let ovos = 2; 
let passoAtual = 0;

const utensilios = [
    {nome:"Bacia grande", svg:'<circle cx="32" cy="32" r="30" fill="#c0c0c0"/> <circle cx="32" cy="32" r="20" fill="#fff"/>'},
    {nome:"Esp√°tula", svg:'<rect x="28" y="10" width="6" height="40" fill="#8B4513"/> <rect x="25" y="50" width="12" height="4" fill="#d2691e"/>'},
    {nome:"Forma de bolo", svg:'<rect x="12" y="20" width="40" height="20" fill="#ffa500" stroke="#d2691e" stroke-width="2"/>'},
    {nome:"Fouet", svg:'<line x1="32" y1="10" x2="32" y2="50" stroke="#000" stroke-width="2"/><line x1="28" y1="50" x2="36" y2="50" stroke="#000" stroke-width="2"/>'}
];

const ingredientes = [
    {nome: "Farinha de trigo", pesoPorOvo: 50},
    {nome: "A√ß√∫car", pesoPorOvo: 40},
    {nome: "Margarina", pesoPorOvo: 30},
    {nome: "Leite", pesoPorOvo: 20},
    {nome: "Fermento", pesoPorOvo: 5},
];

const passosExtras = [
    "Unte a forma com margarina.",
    "Se quiser, polvilhe um pouco de farinha para n√£o grudar.",
    "Pr√©-aque√ßa o forno a 180¬∞C.",
    "Misture todos os ingredientes da massa.",
    "Coloque a massa na forma.",
    "Asse por 25-35 minutos ou at√© dourar.",
    "Retire do forno e deixe esfriar antes de desenformar.",
    "Coloque a cobertura (sempre a mesma quantidade)."
];

function mostrarMisenplaceVisual() {
    content.innerHTML = `<h2>Prepare seu misenplace!</h2><div class="utensilios-container">`;
    utensilios.forEach((u, i) => {
        content.innerHTML += `
            <div class="utensilio" onclick="marcarUtensilio(this)">
                <svg viewBox="0 0 64 64">${u.svg}</svg>
                <span>${u.nome}</span>
            </div>`;
    });
    content.innerHTML += `</div>
        <h3>Ingredientes:</h3>
        <ul>${ingredientes.map(i => `<li>${i.nome}</li>`).join("")}</ul>
        <button id="prontoBtn" disabled>Pronto, vamos cozinhar!</button>
    `;

    // agora o bot√£o ganha o listener corretamente
    document.getElementById('prontoBtn').addEventListener('click', mostrarFome);
}

function marcarUtensilio(el) {
    el.querySelector('svg').classList.toggle('clicked');
    const todosClicados = [...document.querySelectorAll('.utensilio svg')]
        .every(s => s.classList.contains('clicked'));
    document.getElementById('prontoBtn').disabled = !todosClicados;
}

function mostrarFome() {
    content.innerHTML = "<h2>Qual √© o tamanho da sua fome?</h2>" +
        "<button onclick='setFome(1)'>Pequena (1 ovo)</button>" +
        "<button onclick='setFome(2)'>M√©dia (2 ovos)</button>" +
        "<button onclick='setFome(3)'>Grande (3 ovos)</button>";
}

function setFome(n) {
    ovos = n;
    passoAtual = 0;
    mostrarProximoPasso();
}

function mostrarProximoPasso() {
    if (passoAtual < ingredientes.length) {
        let ing = ingredientes[passoAtual];
        content.innerHTML = `<div class="ingredient">Adicione ${ing.pesoPorOvo * ovos}g de ${ing.nome}.</div>` +
            `<button onclick="proximoIngrediente()">Pr√≥ximo ingrediente</button>`;
    } else if (passoAtual - ingredientes.length < passosExtras.length) {
        let passo = passosExtras[passoAtual - ingredientes.length];
        content.innerHTML = `<div class="step">${passo}</div>` +
            `<button onclick="proximoIngrediente()">Pr√≥ximo passo</button>`;
    } else {
        content.innerHTML = "<h2>Seu bolinho est√° pronto! üç∞</h2>";
    }
}

function proximoIngrediente() {
    passoAtual++;
    mostrarProximoPasso();
}

// Primeiro clique mostra misenplace visual
bolo.addEventListener('click', mostrarMisenplaceVisual);
</script>

</body>
</html>
