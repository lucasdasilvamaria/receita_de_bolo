<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pastel de Chocolate Interativo</title>
<style>
body {
    font-family: Arial, sans-serif;
    text-align: center;
    padding: 20px;
    background: #fff2e6;
    color: #333;
}
h1, h2 {
    margin-bottom: 20px;
}
svg {
    width: 100px;
    height: 100px;
    cursor: pointer;
    margin: 10px;
    transition: transform 0.2s;
}
svg.clicked {
    transform: scale(1.2);
    opacity: 0.5;
}
.ingredient, .step, .choice {
    font-size: 20px;
    margin: 20px 0;
    cursor: pointer;
    padding: 10px;
    border-radius: 8px;
    background: #ffedcc;
    transition: background 0.3s;
}
.ingredient:hover, .step:hover, .choice:hover {
    background: #ffd699;
}
.utensilios-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
}
.utensilio {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin: 10px;
}
.utensilio span {
    margin-top: 5px;
    font-size: 16px;
}
</style>
</head>
<body>

<h1>Vamos fazer um Pastel de Chocolate?</h1>
<svg id="bolo" viewBox="0 0 64 64">
  <circle cx="32" cy="32" r="30" fill="#d2691e" stroke="#8B4513" stroke-width="4"/>
  <circle cx="32" cy="32" r="20" fill="#fff0d4"/>
</svg>

<div id="content"></div>

<script>
const content = document.getElementById('content');
const bolo = document.getElementById('bolo');

let ovos = 2; 
let passoAtual = 0;

// Utens√≠lios
const utensilios = [
    {nome:"Bacia grande", svg:'<circle cx="32" cy="32" r="30" fill="#c0c0c0"/> <circle cx="32" cy="32" r="20" fill="#fff"/>'},
    {nome:"Esp√°tula", svg:'<rect x="28" y="10" width="6" height="40" fill="#8B4513"/> <rect x="25" y="50" width="12" height="4" fill="#d2691e"/>'},
    {nome:"Forma de bolo", svg:'<rect x="12" y="20" width="40" height="20" fill="#ffa500" stroke="#d2691e" stroke-width="2"/>'},
    {nome:"Fouet", svg:'<line x1="32" y1="10" x2="32" y2="50" stroke="#000" stroke-width="2"/><line x1="28" y1="50" x2="36" y2="50" stroke="#000" stroke-width="2"/>'}
];

// Ingredientes da massa (proporcional aos ovos)
const ingredientes = [
    {nome: "A√ß√∫car refinado", pesoPorOvo: 66.7},
    {nome: "Ovos", pesoPorOvo: 50},
    {nome: "Leite semidesnatado", pesoPorOvo: 83.3},
    {nome: "√ìleo vegetal", pesoPorOvo: 30},
    {nome: "Cacau em p√≥ 32%", pesoPorOvo: 26.7},
    {nome: "Farinha de trigo", pesoPorOvo: 83.3},
    {nome: "Fermento qu√≠mico", pesoPorOvo: 7},
    {nome: "Sal", pesoPorOvo: 1.67}
];

// Passos da receita
const passosExtras = [
    "Untar o molde com 10 g de margarina e polvilhar 10 g de farinha.",
    "Pr√©-aque√ßa o forno a 180¬∞C.",
    "Misture todos os ingredientes da massa at√© ficar homog√™nea.",
    "Coloque a massa no molde.",
    "Asse por 45 minutos a 180¬∞C. Deixe esfriar antes de desenformar.",
    "Prepare a cobertura: derreta 20 g de margarina e dissolva 30 g de cacau em p√≥.",
    "Adicione 395 g de leite condensado e 200 g de creme de leite. Cozinhe at√© obter ponto de cobertura cremosa.",
    "Deixe esfriar levemente e aplique sobre o bolo.",
    "Finalize com 48 g de granulado de chocolate Melken."
];

function mostrarMisenplace() {
    let html = `<h2>Prepare seu misenplace!</h2><div class="utensilios-container">`;
    utensilios.forEach((u) => {
        html += `
            <div class="utensilio">
                <svg viewBox="0 0 64 64">${u.svg}</svg>
                <span>${u.nome}</span>
            </div>`;
    });
    html += `<h3>Ingredientes que voc√™ vai usar:</h3><ul>` +
        ingredientes.map(i => `<li>${i.nome}</li>`).join('') +
        `</ul>`;
    content.innerHTML = html;

    document.querySelectorAll('.utensilio svg').forEach(svg => {
        svg.addEventListener('click', () => {
            svg.classList.add('clicked');
            const todos = [...document.querySelectorAll('.utensilio svg')]
                .every(s => s.classList.contains('clicked'));
            if (todos) mostrarFome();
        });
    });
}

function mostrarFome() {
    content.innerHTML = "<h2>Qual √© o tamanho da sua fome?</h2>";
    ["Pequena (1 ovo)", "M√©dia (2 ovos)", "Grande (3 ovos)"].forEach((txt, i) => {
        const div = document.createElement("div");
        div.className = "choice";
        div.innerText = txt;
        div.addEventListener("click", () => {
            ovos = i + 1;
            passoAtual = 0;
            mostrarProximoPasso();
        });
        content.appendChild(div);
    });
}

function mostrarProximoPasso() {
    if (passoAtual < ingredientes.length) {
        let ing = ingredientes[passoAtual];
        let div = document.createElement("div");
        div.className = "ingredient";
        let peso = (ing.pesoPorOvo * ovos).toFixed(1);
        div.innerText = `Adicione ${peso} g de ${ing.nome}`;
        div.addEventListener("click", () => {
            passoAtual++;
            mostrarProximoPasso();
        });
        content.innerHTML = "";
        content.appendChild(div);
    } else if (passoAtual - ingredientes.length < passosExtras.length) {
        let passo = passosExtras[passoAtual - ingredientes.length];
        let div = document.createElement("div");
        div.className = "step";
        div.innerText = passo;
        div.addEventListener("click", () => {
            passoAtual++;
            mostrarProximoPasso();
        });
        content.innerHTML = "";
        content.appendChild(div);
    } else {
        content.innerHTML = "<h2>Seu Pastel de Chocolate com Brigadeiro est√° pronto! üç´üç∞</h2>";
    }
}

bolo.addEventListener('click', mostrarMisenplace);
</script>

</body>
</html>
